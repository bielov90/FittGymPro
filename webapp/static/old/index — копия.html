    <!DOCTYPE html>
    <html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FittGymPro ‚Äî Mini App</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            body {
                font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto;
                background: linear-gradient(to bottom right, #f0f4f8, #e2e8f0);
            }
            .tab { display: none; }
            .tab.active { display: block; }
            .nav-btn.active { color: #f97316; }
            @keyframes fadeIn {
              from {opacity: 0; transform: translateY(20px);}
              to {opacity: 1; transform: translateY(0);}
            }
            .animate-fade-in {
              animation: fadeIn 0.3s ease forwards;
            }
        </style>
    </head>
    <body class="min-h-screen flex flex-col justify-between">

        <!-- HEADER -->
        <header class="p-4 text-center bg-white shadow-md">
            <h1 class="text-xl font-semibold text-gray-800">FittGymPro</h1>
            <p class="text-gray-500 text-sm">–¢–≤–æ—è –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
        </header>

        <!-- MAIN TABS -->
        <main id="tabs" class="flex-1 p-6">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div id="tab-stats" class="tab active text-center">
              <div class="bg-white rounded-2xl shadow-lg w-full max-w-sm mx-auto p-6">
                  <h2 class="text-lg font-semibold text-gray-800 mb-4">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è</h2>

                  <p class="text-gray-700 mb-2">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–æ: <span id="kcal-value">‚Äî</span> –∏–∑ <span id="kcal-goal">‚Äî</span> –∫–∫–∞–ª</p>
                  <progress id="stat-bar" value="0" max="100" class="w-full h-3 rounded-lg mb-2"></progress>
                  <p id="stat-prog" class="text-sm text-gray-500 mb-4">0%</p>

                 <p id="macro-info" class="text-gray-600 text-sm mb-2">–ë: ‚Äî ‚Ä¢ –ñ: ‚Äî ‚Ä¢ –£: ‚Äî</p>
                 <p id="water-info" class="text-gray-600 text-sm">üíß –í–æ–¥–∞: ‚Äî –ª</p>
                 <p id="workout-info" class="text-gray-600 text-sm">üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: ‚Äî –∫–∫–∞–ª</p>
                  <p class="text-gray-500 text-sm mt-2">–¶–µ–ª—å: –∫–∞–ª–æ—Ä–∏–∏ –∏ –≤–æ–¥–∞ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è</p>
              </div>
              <script src="/static/stats.js"></script>
            </div>



            <!-- –ü–∏—Ç–∞–Ω–∏–µ -->
          <div id="tab-food" class="tab text-center">
            <!-- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" -->
            <div class="flex justify-center mt-6">
              <button onclick="openFoodModal()" class="bg-blue-500 text-white px-6 py-2 rounded-xl shadow hover:bg-blue-600 transition">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç
              </button>
            </div>

            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
            <div id="foodModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
              <div class="bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in">
                <button onclick="closeFoodModal()" class="absolute top-3 right-3 text-gray-400 hover:text-red-500">‚úï</button>

                <h2 class="text-lg font-semibold text-gray-800 mb-4 text-center">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</h2>

                <label class="block text-sm text-gray-700 mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞</label>
                <input id="food-name" type="text" class="w-full border border-gray-300 rounded-lg p-2 mb-2" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: banana">
                <p id="food-status" class="text-sm text-gray-500 mb-2"></p>

                <label class="block text-sm text-gray-700 mb-1">–í–µ—Å (–≤ –≥—Ä–∞–º–º–∞—Ö)</label>
                <input id="food-weight" type="number" class="w-full border border-gray-300 rounded-lg p-2 mb-3" placeholder="100">

                <label class="block text-sm text-gray-700 mb-1">–ü—Ä–∏—ë–º –ø–∏—â–∏</label>
                <select id="meal-type" class="w-full border border-gray-300 rounded-lg p-2 mb-3">
                  <option value="–∑–∞–≤—Ç—Ä–∞–∫">–ó–∞–≤—Ç—Ä–∞–∫</option>
                  <option value="–æ–±–µ–¥">–û–±–µ–¥</option>
                  <option value="—É–∂–∏–Ω">–£–∂–∏–Ω</option>
                  <option value="–ø–µ—Ä–µ–∫—É—Å">–ü–µ—Ä–µ–∫—É—Å</option>
                </select>

                <div class="grid grid-cols-4 gap-2 mb-4 text-center">
                  <div><p class="text-xs text-gray-500">–ö–∫–∞–ª</p><p id="calories" class="text-orange-600 font-semibold">‚Äî</p></div>
                  <div><p class="text-xs text-gray-500">–ë–µ–ª–∫–∏</p><p id="proteins" class="text-green-600 font-semibold">‚Äî</p></div>
                  <div><p class="text-xs text-gray-500">–ñ–∏—Ä—ã</p><p id="fats" class="text-yellow-600 font-semibold">‚Äî</p></div>
                  <div><p class="text-xs text-gray-500">–£–≥–ª–µ–≤–æ–¥—ã</p><p id="carbs" class="text-blue-600 font-semibold">‚Äî</p></div>
                </div>

                <p id="save-status" class="text-center text-sm text-gray-600 mb-3"></p>

                <div class="flex justify-center">
                  <button onclick="saveFood()" class="bg-green-500 text-white px-5 py-2 rounded-xl hover:bg-green-600 transition">
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç
                  </button>
                </div>
              </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ø–∏—Å–∫–∞ -->
            <hr class="my-5 border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h3>
            <div id="food-list" class="space-y-3"></div>

            <script src="/static/food_api.js"></script>
          </div>

            <!-- –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
            <div id="tab-workout" class="tab text-center">
              <h2 class="text-lg font-semibold text-gray-800 mb-3">üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
              <form id="workout-form" class="bg-white p-4 rounded-2xl shadow-md max-w-sm mx-auto space-y-3 text-left">
                  <label class="block text-sm text-gray-700">–¢–∏–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</label>
                  <input name="type" required class="w-full border rounded-lg p-2" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –±–µ–≥, –π–æ–≥–∞">

                  <label class="block text-sm text-gray-700">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)</label>
                  <input type="number" step="1" name="duration" required class="w-full border rounded-lg p-2">

                  <label class="block text-sm text-gray-700">–°–æ–∂–∂–µ–Ω–æ –∫–∞–ª–æ—Ä–∏–π</label>
                  <input type="number" step="1" name="calories" required class="w-full border rounded-lg p-2">

                  <button class="bg-blue-500 text-white rounded-lg px-4 py-2 w-full">–î–æ–±–∞–≤–∏—Ç—å</button>
              </form>

              <div id="workout-result" class="mt-3"></div>
              <div id="workout-list" class="mt-6 text-left max-w-sm mx-auto"></div>

              <script src="/static/workout.js"></script>
              <script>
                  document.getElementById('workout-form').addEventListener('submit', handleWorkoutSubmit);
              </script>
            </div>


            <!-- –í–æ–¥–∞ -->
            <div id="tab-water" class="tab text-center">
              <h2 class="text-lg font-semibold text-gray-800 mb-3">üíß –£—á–µ—Ç –≤–æ–¥—ã</h2>
              <p class="text-gray-600 mb-2">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–∏—Ç–æ–π –≤–æ–¥—ã</p>
              <div class="flex justify-center gap-3 mb-4">
                <button onclick="addWater(100)" class="bg-cyan-500 text-white px-3 py-2 rounded-lg">+100 –º–ª</button>
                <button onclick="addWater(250)" class="bg-cyan-500 text-white px-3 py-2 rounded-lg">+250 –º–ª</button>
                <button onclick="addWater(500)" class="bg-cyan-500 text-white px-3 py-2 rounded-lg">+500 –º–ª</button>
              </div>
              <div id="water-result" class="mb-3"></div>
              <p class="text-gray-700">–í—Å–µ–≥–æ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: <b><span id="water-total">0.00</span> –ª</b></p>
              <script src="/static/water.js"></script>
            </div>


            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <div id="tab-profile" class="tab text-center">
  <h2 class="text-lg font-semibold text-gray-800 mb-3">‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª—å</h2>
  <form id="profile-form" class="bg-white p-4 rounded-2xl shadow-md max-w-sm mx-auto space-y-3 text-left">
      <label class="block text-sm text-gray-700">–ò–º—è</label>
      <input name="name" required class="w-full border rounded-lg p-2" placeholder="–í–∞—à–µ –∏–º—è">

      <label class="block text-sm text-gray-700">–ü–æ–ª</label>
      <select name="gender" class="w-full border rounded-lg p-2">
        <option value="male">–ú—É–∂—á–∏–Ω–∞</option>
        <option value="female">–ñ–µ–Ω—â–∏–Ω–∞</option>
      </select>

      <label class="block text-sm text-gray-700">–í–æ–∑—Ä–∞—Å—Ç</label>
      <input type="number" name="age" required class="w-full border rounded-lg p-2" placeholder="–ª–µ—Ç">

      <label class="block text-sm text-gray-700">–†–æ—Å—Ç (—Å–º)</label>
      <input type="number" name="height" required class="w-full border rounded-lg p-2">

      <label class="block text-sm text-gray-700">–í–µ—Å (–∫–≥)</label>
      <input type="number" name="weight" required class="w-full border rounded-lg p-2">

      <label class="block text-sm text-gray-700">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</label>
      <select name="activity" class="w-full border rounded-lg p-2">
        <option value="low">–°–∏–¥—è—á–∏–π</option>
        <option value="medium">–£–º–µ—Ä–µ–Ω–Ω–∞—è</option>
        <option value="high">–í—ã—Å–æ–∫–∞—è</option>
      </select>

      <label class="block text-sm text-gray-700">–¶–µ–ª—å</label>
      <select name="goal" class="w-full border rounded-lg p-2">
        <option value="lose">–ü–æ—Ö—É–¥–µ—Ç—å</option>
        <option value="keep">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å</option>
        <option value="gain">–ù–∞–±—Ä–∞—Ç—å</option>
      </select>

      <button class="bg-orange-500 text-white rounded-lg px-4 py-2 w-full">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  </form>
  <div id="profile-result" class="mt-4 text-gray-700"></div>
  <script src="/static/profile.js"></script>
  <script>
      document.getElementById('profile-form').addEventListener('submit', handleProfileSubmit);
  </script>
</div>

        </main>

        <!-- NAVIGATION -->
        <nav class="bg-white shadow-inner flex justify-around py-3 text-sm">
            <button class="nav-btn flex flex-col items-center text-gray-600" onclick="showTab('stats', this)">
                <span class="text-xl">üìä</span><span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </button>
            <button class="nav-btn flex flex-col items-center text-gray-600" onclick="showTab('food', this)">
                <span class="text-xl">üçΩ</span><span>–ü–∏—Ç–∞–Ω–∏–µ</span>
            </button>
            <button class="nav-btn flex flex-col items-center text-gray-600" onclick="showTab('workout', this)">
                <span class="text-xl">üèãÔ∏è</span><span>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</span>
            </button>
            <button class="nav-btn flex flex-col items-center text-gray-600" onclick="showTab('water', this)">
                <span class="text-xl">üíß</span><span>–í–æ–¥–∞</span>
            </button>
            <button class="nav-btn flex flex-col items-center text-gray-600" onclick="showTab('profile', this)">
                <span class="text-xl">‚öôÔ∏è</span><span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>

        <!-- JS -->
        <script>
            function showTab(tab, btn) {
                document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
                document.getElementById('tab-' + tab).classList.add('active');

                document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
                btn.classList.add('active');
            }
        </script>
    </body>
    </html>
